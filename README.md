# 研究背景
当前主流的室外定位技术可以划分为**基站型**、**卫星型**和**蓝牙型**。其中：
1. **基站型**定位主要包括蜂窝移动通信网络和Wi-Fi定位，其定位能力受基站部署规模限制，只能在有基站的区域内进行定位。
2. **卫星型**定位涵盖全球定位系统（GPS）和北斗卫星导航系统，但其在特定环境（如高楼、城市峡谷或恶劣天气）下可能受到信号接收问题的限制，影响定位精度。
3. **蓝牙型**定位基于高频率的蓝牙技术，但其传输距离受限，且易受阻挡物干扰，因此只能在小范围内进行定位。

针对上述技术的局限性，本项目旨在构建一个**不依赖卫星**和**基站**的**电子定位系统**，旨在解决在**无基站**、**卫星信号不稳定**或**蓝牙受限**的环境中实现**高精度室外定位**的需求，从而在复杂环境中提供可靠的定位服务。

# 理论设想
本项目设想将**卫星的工作模式**应用于**地面定位操作**，利用**电磁波的传播时延**进行计算。通过两个接收器接收信号的时间随着**靠近目标的过程逐渐缩短**，从而**确定目标的大致方向**。接着，通过两个接收器的**不同方向进行三角定位**，获取目标的大致位置，从而完成对区域内目标的定位。

![image](https://github.com/ZIYUEXI/REPS/assets/63457521/ca7c2b78-b640-42b3-a305-2393b61367ab)

# 研究总结和问题
使用**STM32作为核心控制板**的项目取得了进展。实现了主页面的界面初始化和字符输出，并采用了黑底白字的颜色方案，为后续功能和用户交互打下了基础。通过按键监听实现了菜单项功能选择，但还需要进一步完善按键处理逻辑。

研究了**STM32下的TIM中断对系统性能的影响**，发现**中断间隔过短**可能导致**LCD更新变慢或系统卡死**。工程目标的实现包括**计时器功能**和**Setting界面的设计**，以及**Search Mode界面**的开发，已经实现了计时器的基本功能并在LCD屏幕上显示当前的计时时间。Setting界面成功显示了菜单项、实现了颜色的改变和菜单项的移动等功能。**Search Mode界面通过转换坐标系和绘制点等操作**，实现了在屏幕上显示点和提示信息的功能。

接下来需要进行测试和调试，以确保功能的稳定性，并进一步完善用户界面和操作逻辑。成功取模设计了小一号的字体，实现在屏幕上绘制较小的字符，避免被圆形遮挡，提高了显示效果。同时，通过研究**LORA射频模块**及其与STM32F10的连接方法，成功实现了**电脑与STM32之间的串口通信**，为后续应用场景中的大量文本信息显示和无线通信提供了可行解决方案。

接下来将进一步测试和调试，完善数据收发逻辑和错误处理，以确保系统稳定运行。实验测试了**A39C-T400A22**（LORA）在最低功率下的传播距离，结果显示传播距离约为**100米**。在实现两台STM32通过LORA进行通信的过程中，**解决了抢占问题**，确保了通信的正常进行。通过获取并显示LORA发送到接收的计数器的计数次数，可以实现对LORA通信的时间记录和显示，用于监控和分析时序性能。这些实验结果对于进一步优化LORA通信系统的稳定性和可靠性具有参考价值。

实验测试了距离远近对计数时间的影响，并发现即使距离超过300米，计数时间仍未稳定变长。后续尝试缩小计数器的计数时间，通过**优化算法**和**硬件设计**，以**提高计数精度和稳定性**。同时，还需进一步优化LORA通信模块的传输距离和抗干扰性能，确保在实际应用中能够稳定可靠地进行数据传输。
